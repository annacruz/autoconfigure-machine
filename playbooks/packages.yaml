---
- name: Install base apps
  hosts: all
  vars:
    taps:
      - caskroom/versions
      - caskroom/cask
      - caskroom/fonts
      - homebrew/versions

    apps:
      - ag
      - git
      - htop-osx
      - httpie
      - npm
      - python3
      - rbenv
      - ruby
      - tree
      - wget
      - golang
      - rust
      - fish

    cask_apps:
      - iterm2
      - screenhero
      - shiftit
      - java
      - slack
      - 1password
      - spotify
      - firefoxnightly
      - telegram
      - licecap
      - the-unarchiver
      - muzzle

    fonts:
      - font-inconsolata
      - font-inconsolata-for-powerline
      - font-source-code-pro
      - font-hack-nerd-font

  tasks:
    - name: Add homebrew taps
      homebrew_tap: name={{ item }} state=present
      with_items: "{{ taps }}"

    - name: Install homebrew packages
      homebrew: name={{ item }} state=latest
      with_items: "{{ apps }}"

    - name: Install homebrew cask packages
      homebrew_cask: name={{ item }} state=present
      with_items: "{{ cask_apps }}"

    - name: Install fonts
      homebrew_cask: name={{ item }} state=present
      with_items: "{{ fonts }}"
